{"remainingRequest":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/babel-loader/lib/index.js!/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniel/Documentos/testefrontes3/ES3/front/src/views/perfil/EnderecoEntrega.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/src/views/perfil/EnderecoEntrega.vue","mtime":1543919300250},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1543613641058},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1543613641058},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Modal } from \"@/mk/components\";\nimport CadDadosEnderecoEntrega from '../cliente/CadDadosEnderecoEntrega';\nimport { eventBus } from '../../main';\nimport axios from 'axios';\nimport { EditProfileForm, UserCard } from '@/mk_admin/pages';\nexport default {\n  mounted: function mounted() {\n    this.novoEndereco();\n    var dadosAtuais = this;\n    this.dadosCliente;\n  },\n  computed: {\n    dadosCliente: function dadosCliente() {\n      this.cliente = this.$store.state.cliente.dados;\n    }\n  },\n  data: function data() {\n    return {\n      cliente: {},\n      modalEnderecoEntrega: false,\n      indexEndereco: null,\n      enderecosEntrega: {}\n    };\n  },\n  components: {\n    EditProfileForm: EditProfileForm,\n    UserCard: UserCard,\n    Modal: Modal,\n    CadDadosEnderecoEntrega: CadDadosEnderecoEntrega\n  },\n  methods: {\n    deletarEndereco: function deletarEndereco(indice) {\n      this.cliente.enderecosEntrega[indice].deletar = false;\n      this.AtualizarCliente();\n    },\n    valido: function valido() {\n      this.AtualizarCliente();\n    },\n    validoNovo: function validoNovo() {\n      this.cliente.enderecosEntrega.push(this.enderecosEntrega);\n      this.AtualizarCliente();\n    },\n    fecharModalEnderecoEntrega: function fecharModalEnderecoEntrega() {\n      this.modalEnderecoEntrega = false;\n    },\n    ValidarEnderecoEntrega: function ValidarEnderecoEntrega() {\n      eventBus.$emit('validarDadosEndereco', true);\n    },\n    AtualizarCliente: function AtualizarCliente() {\n      this.modalCliente = false;\n      var dadosAtuais = this;\n      axios.post(\"http://localhost:8082/DarkBook/cliente?operacao=ALTERAR\", this.cliente, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n        }\n      }).then(function (e) {\n        swal({\n          title: \"Alterado com sucesso\",\n          icon: \"success\"\n        });\n        dadosAtuais.novoEndereco();\n        dadosAtuais.$router.push({\n          name: \"perfil\"\n        });\n        dadosAtuais.$router.push({\n          name: \"Endereço_Entrega\"\n        });\n      }).catch(function (e) {\n        console.log(e);\n\n        try {\n          swal({\n            title: e.response.data,\n            icon: \"error\"\n          });\n        } catch (e) {\n          swal({\n            title: e,\n            icon: \"error\"\n          });\n        }\n      });\n    },\n    novoEndereco: function novoEndereco() {\n      this.enderecosEntrega = {\n        tipoResidencia: \"\",\n        tipoLogradouro: \"\",\n        pais: \"\",\n        estado: \"\",\n        cidade: \"\",\n        logradouro: \"\",\n        numero: \"\",\n        bairro: \"\",\n        cep: \"\",\n        observacao: \"\",\n        nomeComposto: \"\",\n        favorito: false\n      };\n    }\n  }\n};",{"version":3,"sources":["EnderecoEntrega.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,SAAA,KAAA,QAAA,iBAAA;AACA,OAAA,uBAAA,MAAA,oCAAA;AACA,SAAA,QAAA,QAAA,YAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,SACA,eADA,EAEA,QAFA,QAGA,kBAHA;AAKA,eAAA;AACA,SADA,qBACA;AACA,SAAA,YAAA;AACA,QAAA,cAAA,IAAA;AACA,SAAA,YAAA;AACA,GALA;AAMA,YAAA;AACA,gBADA,0BACA;AACA,WAAA,OAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA,CAAA,KAAA;AACA;AAHA,GANA;AAWA,QAAA;AAAA,WAAA;AACA,eAAA,EADA;AAEA,4BAAA,KAFA;AAGA,qBAAA,IAHA;AAIA,wBAAA;AAJA,KAAA;AAAA,GAXA;AAiBA,cAAA;AACA,oCADA;AAEA,sBAFA;AAGA,gBAHA;AAIA;AAJA,GAjBA;AAuBA,WAAA;AACA,mBADA,2BACA,MADA,EACA;AACA,WAAA,OAAA,CAAA,gBAAA,CAAA,MAAA,EAAA,OAAA,GAAA,KAAA;AACA,WAAA,gBAAA;AACA,KAJA;AAKA,UALA,oBAKA;AACA,WAAA,gBAAA;AACA,KAPA;AAQA,cARA,wBAQA;AACA,WAAA,OAAA,CAAA,gBAAA,CAAA,IAAA,CAAA,KAAA,gBAAA;AACA,WAAA,gBAAA;AACA,KAXA;AAYA,8BAZA,wCAYA;AACA,WAAA,oBAAA,GAAA,KAAA;AACA,KAdA;AAeA,0BAfA,oCAeA;AACA,eAAA,KAAA,CAAA,sBAAA,EAAA,IAAA;AACA,KAjBA;AAkBA,oBAlBA,8BAkBA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,UAAA,cAAA,IAAA;AACA,YAAA,IAAA,4DACA,KAAA,OADA,EACA;AACA,iBAAA;AACA,0BAAA;AADA;AADA,OADA,EAKA,IALA,CAKA,UAAA,CAAA,EAAA;AACA,aAAA;AACA,iBAAA,sBADA;AAEA,gBAAA;AAFA,SAAA;AAIA,oBAAA,YAAA;AACA,oBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA;AAAA,SAAA;AACA,oBAAA,OAAA,CAAA,IAAA,CAAA;AAAA,gBAAA;AAAA,SAAA;AACA,OAbA,EAaA,KAbA,CAaA,UAAA,CAAA,EAAA;AACA,gBAAA,GAAA,CAAA,CAAA;;AACA,YAAA;AACA,eAAA;AACA,mBAAA,EAAA,QAAA,CAAA,IADA;AAEA,kBAAA;AAFA,WAAA;AAIA,SALA,CAKA,OAAA,CAAA,EAAA;AACA,eAAA;AACA,mBAAA,CADA;AAEA,kBAAA;AAFA,WAAA;AAIA;AACA,OA1BA;AA2BA,KAhDA;AAiDA,gBAjDA,0BAiDA;AACA,WAAA,gBAAA,GAAA;AACA,wBAAA,EADA;AAEA,wBAAA,EAFA;AAGA,cAAA,EAHA;AAIA,gBAAA,EAJA;AAKA,gBAAA,EALA;AAMA,oBAAA,EANA;AAOA,gBAAA,EAPA;AAQA,gBAAA,EARA;AASA,aAAA,EATA;AAUA,oBAAA,EAVA;AAWA,sBAAA,EAXA;AAYA,kBAAA;AAZA,OAAA;AAcA;AAhEA;AAvBA,CAAA","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"viewport\">\n      <md-toolbar class=\"md-primary\">\n        <span class=\"md-title md-toolbar-section-start\">Endereço de Entrega</span>\n      </md-toolbar>\n    </div>\n    <div class=\"md-layout\">\n      <div v-for=\"(endereco, index) in cliente.enderecosEntrega\" class=\"md-layout-item md-medium-size-100 md-size-33\">\n          <md-card>\n             <md-card-actions>\n              <md-button class=\"md-primary md-just-icon md-round\"><md-icon v-if=\"endereco.favorito == true\">star_border</md-icon><md-icon v-else>star</md-icon></md-button>\n            </md-card-actions>\n            <md-card-content>\n              {{ endereco.nomeComposto }}<br>\n              {{ endereco.tipoLogradouro }} {{ endereco.logradouro }}, {{ endereco.numero }}, {{ endereco.bairro }}, {{ endereco.tipoResidencia }}<br>\n              {{ endereco.cep }}<br>\n              {{ endereco.cidade }}, {{ endereco.estado }}, {{ endereco.pais }}<br>\n              {{ endereco.complemento }}\n            </md-card-content>\n\n            <md-card-actions>\n              <md-button class=\"md-danger\" @click=\"deletarEndereco(index)\">Deletar</md-button>\n              <md-button class=\"md-primary\" @click=\"modalEnderecoEntrega = true; indexEndereco = index\">Editar</md-button>\n            </md-card-actions>\n          </md-card>\n      </div>\n\n      <div class=\"md-layout-item md-medium-size-100 md-size-33\">\n        <md-toolbar class=\"md-white my-30\">\n          <md-button class=\"md-white\">\n            <md-icon>add_circle</md-icon>\n            <span class=\"md-title md-toolbar-section-start\" @click=\"modalEnderecoEntrega = true; indexEndereco = null\">Novo Endereço</span>\n          </md-button>\n        </md-toolbar> \n      </div>\n    </div>\n    <modal v-if=\"modalEnderecoEntrega\" @close=\"fecharModalEnderecoEntrega\">\n      <template slot=\"body\">\n        <cad-dados-endereco-entrega @dados-valido-cliente=\"valido\" v-if=\"indexEndereco != null\" v-bind:dados=\"{enderecosEntrega: this.cliente.enderecosEntrega[indexEndereco]}\"></cad-dados-endereco-entrega>\n        <cad-dados-endereco-entrega @dados-valido-cliente=\"validoNovo\" v-else v-bind:dados=\"{enderecosEntrega: this.enderecosEntrega}\"></cad-dados-endereco-entrega>\n      </template>\n      <template slot=\"footer\">\n        <md-button class=\"md-danger md-sm\" @click=\"fecharModalEnderecoEntrega\">Cancelar</md-button>\n        <md-button class=\"md-primary md-simple\" @click=\"ValidarEnderecoEntrega\">Salvar</md-button>\n      </template>\n  </modal>\n  </div>\n</template>\n\n<style>\n.my-30{\n      margin: 30px 0;\n}\n.md-menu-content.md-select-menu {\n    z-index: 9998 !important;\n}\n</style>\n\n<script>\nimport { Modal } from \"@/mk/components\";\nimport CadDadosEnderecoEntrega from '../cliente/CadDadosEnderecoEntrega'\nimport { eventBus } from '../../main';\nimport axios from 'axios';\nimport {\n  EditProfileForm,\n  UserCard\n} from '@/mk_admin/pages'\n\nexport default{\n  mounted(){\n    this.novoEndereco();\n    var dadosAtuais = this; \n    this.dadosCliente;\n  },\n  computed: {\n    dadosCliente(){\n      this.cliente = this.$store.state.cliente.dados;\n    }\n  },\n  data: () => ({\n  cliente:{},\n  modalEnderecoEntrega : false,\n  indexEndereco: null,\n  enderecosEntrega : {}\n}),\n  components: {\n    EditProfileForm,\n    UserCard,\n    Modal,\n    CadDadosEnderecoEntrega\n  },\n  methods: {\n    deletarEndereco(indice){\n      this.cliente.enderecosEntrega[indice].deletar = false;\n      this.AtualizarCliente();\n    },\n    valido(){\n      this.AtualizarCliente();\n    },\n    validoNovo(){\n      this.cliente.enderecosEntrega.push(this.enderecosEntrega);\n      this.AtualizarCliente();\n    },\n    fecharModalEnderecoEntrega() {\n      this.modalEnderecoEntrega = false;\n    },\n    ValidarEnderecoEntrega(){\n      eventBus.$emit('validarDadosEndereco', true);\n    },\n    AtualizarCliente(){\n      this.modalCliente = false;\n      var dadosAtuais = this;\n      axios.post(`http://localhost:8082/DarkBook/cliente?operacao=ALTERAR`, \n        this.cliente, {\n          headers: {\n              'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n          }\n        }).then(function(e){\n            swal({\n              title: \"Alterado com sucesso\",\n              icon: \"success\"\n            });\n            dadosAtuais.novoEndereco();\n            dadosAtuais.$router.push({name: \"perfil\"})\n            dadosAtuais.$router.push({name: \"Endereço_Entrega\"})\n        }).catch(function(e){\n            console.log(e)\n            try{\n              swal({\n                  title: e.response.data,\n                  icon: \"error\"\n              });\n            } catch (e) {\n              swal({\n                  title: e,\n                  icon: \"error\"\n              });\n            }\n        })  \n    },\n    novoEndereco(){\n      this.enderecosEntrega = {\n        tipoResidencia : \"\",\n        tipoLogradouro : \"\",\n        pais : \"\",\n        estado : \"\",\n        cidade : \"\",\n        logradouro : \"\",\n        numero : \"\",\n        bairro : \"\",\n        cep : \"\",\n        observacao : \"\",\n        nomeComposto : \"\",\n        favorito : false\n      }\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views/perfil"}]}