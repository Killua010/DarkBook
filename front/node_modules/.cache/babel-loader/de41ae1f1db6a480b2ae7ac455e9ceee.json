{"remainingRequest":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/babel-loader/lib/index.js!/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniel/Documentos/testefrontes3/ES3/front/src/views/cliente/CadDadosEndereco.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/src/views/cliente/CadDadosEndereco.vue","mtime":1543159591047},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1541803797564},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/babel-loader/lib/index.js","mtime":1541803796996},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1541803797564},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js","mtime":1541803800929}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { eventBus } from '../../main';\nimport axios from 'axios';\nexport default {\n  watch: {\n    'dados.enderecosCobranca.pais': function dadosEnderecosCobrancaPais(e) {\n      this.indexPais = this.mapPais[e];\n      this.estados = this.paises[this.indexPais].estados;\n    },\n    'dados.enderecosCobranca.estado': function dadosEnderecosCobrancaEstado(e) {\n      this.indexEstado = this.mapEstados[e];\n      this.cidades = this.estados[this.indexEstado].cidades;\n    }\n  },\n  data: function data() {\n    return {\n      paises: [],\n      estados: [],\n      cidades: [],\n      mapPais: [],\n      mapEstados: [],\n      indexPais: null,\n      indexEstado: null\n    };\n  },\n  filters: {\n    firstUpperCase: function firstUpperCase(str) {\n      return str.toLowerCase().replace(/(?:^)\\S/g, function (a) {\n        return a.toUpperCase();\n      });\n    }\n  },\n  created: function created() {\n    var dadosAtuais = this;\n    eventBus.$on('validarDadosEnderecoCobranca', function (e) {\n      if (e === true) {\n        dadosAtuais.validar();\n      }\n    });\n    this.buscarTipoLogradouro();\n    this.buscarTipoResidencia();\n    this.buscarPaises();\n\n    if (this.dados != null) {\n      this.tipoResidencia = this.dados.enderecosCobranca.tipoResidencia;\n      this.tipoLogradouro = this.dados.enderecosCobranca.tipoLogradouro;\n      this.numero = this.dados.enderecosCobranca.numero;\n      this.cep = this.dados.enderecosCobranca.cep;\n      this.observacao = this.dados.enderecosCobranca.observacao;\n      this.nomeComposto = this.dados.enderecosCobranca.nomeComposto;\n      this.favorito = this.dados.enderecosCobranca.favorito;\n      this.cep = this.dados.enderecosCobranca.cep;\n    }\n  },\n  props: ['dados'],\n  methods: {\n    buscarTipoLogradouro: function buscarTipoLogradouro() {\n      var dadosAtuais = this;\n      $.ajax({\n        type: \"POST\",\n        url: \"http://localhost:8082/DarkBook/tipoLogradouro?operacao=CONSULTAR\",\n        async: false\n      }).done(function (msg) {\n        dadosAtuais.tiposLogradouro = msg;\n      }).fail(function (jqXHR, textStatus, msg) {\n        console.log(msg);\n      });\n    },\n    buscarTipoResidencia: function buscarTipoResidencia() {\n      var dadosAtuais = this;\n      $.ajax({\n        type: \"POST\",\n        url: \"http://localhost:8082/DarkBook/tipoResidencia?operacao=CONSULTAR\",\n        async: false\n      }).done(function (msg) {\n        dadosAtuais.tiposResidencia = msg;\n      }).fail(function (jqXHR, textStatus, msg) {\n        console.log(msg);\n      });\n    },\n    buscarPaises: function buscarPaises() {\n      var dadosAtuais = this;\n      axios.post(\"http://localhost:8082/DarkBook/paises?operacao=CONSULTAR\", this.cliente, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n        }\n      }).then(function (e) {\n        dadosAtuais.paises = e.data;\n\n        for (var i = 0; i < dadosAtuais.paises.length; i++) {\n          dadosAtuais.mapPais[dadosAtuais.paises[i].pais] = i;\n\n          for (var j = 0; j < dadosAtuais.paises[i].estados.length; j++) {\n            dadosAtuais.mapEstados[dadosAtuais.paises[i].estados[j].sigla] = j;\n          }\n        }\n\n        if (dadosAtuais.dados.enderecosCobranca.pais != \"\") {\n          dadosAtuais.indexPais = dadosAtuais.mapPais[dadosAtuais.dados.enderecosCobranca.pais];\n          dadosAtuais.estados = dadosAtuais.paises[dadosAtuais.indexPais].estados;\n          dadosAtuais.indexEstado = dadosAtuais.mapEstados[dadosAtuais.dados.enderecosCobranca.estado];\n          dadosAtuais.cidades = dadosAtuais.estados[dadosAtuais.indexEstado].cidades;\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    validar: function validar() {\n      var erro = false;\n      var regCep = /\\d{5}-?\\d{3}/;\n\n      if (this.tipoResidencia == \"\") {\n        this.corErroSelect(\"tpEndereco\");\n        erro = true;\n      }\n\n      if (!regCep.test(this.cep)) {\n        this.corErroInput(\"cep\");\n        erro = true;\n      } else {\n        this.cep = this.cep.replace(\"-\", \"\");\n      }\n\n      if (this.tipoLogradouro == \"\") {\n        this.corErroSelect(\"tpLogradouro\");\n        erro = true;\n      }\n\n      if (this.dados.enderecosCobranca.logradouro.trim().length < 3) {\n        this.corErroInput(\"logradouro\");\n        erro = true;\n      }\n\n      console.log(this.dados.enderecosCobranca.cidade);\n\n      if (this.dados.enderecosCobranca.cidade == \"\") {\n        this.corErroSelect(\"cidade\");\n        erro = true;\n      }\n\n      if (this.dados.enderecosCobranca.estado == \"\") {\n        this.corErroSelect(\"estado\");\n        erro = true;\n      }\n\n      if (this.dados.enderecosCobranca.pais == \"\") {\n        this.corErroSelect(\"pais\");\n        erro = true;\n      }\n\n      if (this.dados.enderecosCobranca.bairro.trim().length < 3) {\n        this.corErroInput(\"bairro\");\n        erro = true;\n      }\n\n      if (this.numero <= 0) {\n        this.corErroInput(\"numero\");\n        erro = true;\n      }\n\n      if (this.observacao.trim().length > 0 && this.observacao.trim().length < 5) {\n        this.corErroInput(\"complemento\");\n        erro = true;\n      }\n\n      if (erro == false) {\n        this.dados.enderecosCobranca.tipoResidencia = this.tipoResidencia;\n        this.dados.enderecosCobranca.tipoLogradouro = this.tipoLogradouro;\n        this.dados.enderecosCobranca.numero = this.numero;\n        this.dados.enderecosCobranca.cep = this.cep;\n        this.dados.enderecosCobranca.observacao = this.observacao;\n        this.dados.enderecosCobranca.nomeComposto = this.nomeComposto;\n        this.dados.enderecosCobranca.favorito = this.favorito;\n        this.dados.enderecosCobranca.cep = this.cep;\n        eventBus.$emit('page', 3);\n      }\n    },\n    corErroInput: function corErroInput(elemento) {\n      var elementoAtual = document.getElementById(elemento).parentElement;\n      elementoAtual.classList.add(\"md-error\");\n      elementoAtual.classList.add(\"md-invalid\");\n    },\n    corErroSelect: function corErroSelect(elemento) {\n      var elementoAtual = document.getElementById(elemento).parentElement.parentElement;\n      elementoAtual.classList.add(\"md-error\");\n      elementoAtual.classList.add(\"md-invalid\");\n    },\n    buscarCep: function buscarCep(event) {\n      // Nova variável \"cep\" somente com dígitos.\n      var cep = $(\"#cep\").val().replace(/\\D/g, '');\n      var self = this; //Verifica se campo cep possui valor informado.\n\n      if (cep != \"\") {\n        //Expressão regular para validar o CEP.\n        var validacep = /^[0-9]{8}$/; //Valida o formato do CEP.\n\n        if (validacep.test(cep)) {\n          //Consulta o webservice viacep.com.br/\n          $.getJSON(\"https://viacep.com.br/ws/\" + cep + \"/json/?callback=?\", function (dadosEndereco) {\n            if (!(\"erro\" in dadosEndereco)) {\n              self.dados.enderecosCobranca.logradouro = dadosEndereco.logradouro; //Atualiza os campos com os valores da consulta.\n\n              self.dados.enderecosCobranca.bairro = dadosEndereco.bairro;\n              self.dados.enderecosCobranca.cidade = dadosEndereco.localidade;\n              self.dados.enderecosCobranca.estado = dadosEndereco.uf;\n              self.dados.enderecosCobranca.pais = \"Brasil\";\n            } //end if.\n\n          });\n        } //end if.\n\n      } //end if.\n\n\n      console.log(this);\n    }\n  }\n};",{"version":3,"sources":["CadDadosEndereco.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <h3 class=\"text-center m-0 p-0\">Endereço de cobrança</h3>\n        <div class=\"md-layout\">\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>business</md-icon>\n                    <label>Tipo de endereco</label>\n                    <md-select id=\"tpEndereco\" v-model=\"tipoResidencia\" class=\"select-option\">\n                        <md-option v-for=\"tipo in tiposResidencia\" class=\"select\"  v-bind:value=\"tipo\">{{tipo | firstUpperCase() }}</md-option>\n                    </md-select>\n                    <span class=\"md-error erros\">O tipo de endereço é obrigatório</span>\n                </md-field>\n            </div>\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>place</md-icon>\n                    <label>CEP...</label>\n                    <md-input v-mask=\"'#####-###'\" v-on:keyup=\"buscarCep(this)\" id=\"cep\" v-model=\"cep\"></md-input>\n                    <span class=\"md-error erros\">O cep tem que ter 8 digitos</span>\n                </md-field> \n            </div>\n\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>explore</md-icon>\n                    <label>Tipo Logradouro</label>\n                    <md-select id=\"tpLogradouro\" v-model=\"tipoLogradouro\" class=\"select-option\">\n                        <md-option v-for=\"tipo in tiposLogradouro\" class=\"select\"  v-bind:value=\"tipo\">{{tipo | firstUpperCase() }}</md-option>\n                    </md-select>\n                    <span class=\"md-error erros\">O tipo de logradouro é obrigatório</span>\n                </md-field>\n            </div>\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>location_searching</md-icon>\n                    <label>Logradouro...</label>\n                    <md-input id=\"logradouro\" v-model=\"dados.enderecosCobranca.logradouro\"></md-input>\n                    <span class=\"md-error erros\">O logradouro necessida ter no minimo 3 caracteres</span>\n                </md-field> \n            </div>\n\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>public</md-icon>\n                    <label>Pais...</label>\n                     <md-select id=\"pais\" v-model=\"dados.enderecosCobranca.pais\" class=\"select-option\">\n                        <md-option v-for=\"pais in paises\" class=\"select\"  v-bind:value=\"pais.pais\">{{pais.pais}}</md-option>\n                    </md-select>\n                    <span class=\"md-error erros\">O pais é obrigatório</span>\n                </md-field>\n            </div>\n             <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>map</md-icon>\n                    <label>Estado...</label>\n                    <md-select id=\"estado\" v-model=\"dados.enderecosCobranca.estado\" class=\"select-option\">\n                        <md-option v-if=\"null != indexPais\" v-for=\"estado in estados\" class=\"select\"  v-bind:value=\"estado.sigla\">{{ estado.estado }}</md-option>\n                    </md-select>\n                    <span class=\"md-error erros\">O estado é obrigatório</span>\n                </md-field>\n            </div>\n\n\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>location_city</md-icon>\n                    <label>Cidade...</label>\n                    <md-select id=\"cidade\" v-model=\"dados.enderecosCobranca.cidade\" class=\"select-option\">\n                        <md-option v-if=\"null != indexEstado\" class=\"select\" v-for=\"(cidade, index) in cidades\" v-bind:value=\"cidade.cidade\">{{ cidade.cidade }}</md-option>\n                    </md-select>\n                    <span class=\"md-error erros\">A cidade é obrigatório</span>\n                </md-field>\n            </div>\n\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>store_mall_directory</md-icon>\n                    <label>Bairro...</label>\n                    <md-input id=\"bairro\" v-model=\"dados.enderecosCobranca.bairro\"></md-input>\n                    <span class=\"md-error erros\">O bairro necessida ter no minimo 3 caracteres</span>\n                </md-field> \n            </div>\n\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>home</md-icon>\n                    <label>Numero...</label>\n                    <md-input type=\"number\" min=\"1\" id=\"numero\" v-model=\"numero\"></md-input>\n                    <span class=\"md-error erros\">O numero é obrigatório</span>\n                </md-field> \n            </div>\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\">\n                    <md-icon>directions</md-icon>\n                    <label>Complemento...</label>\n                    <md-input id=\"complemento\" v-model=\"observacao\"></md-input>\n                    <span class=\"md-error erros\">O complemento necessida ter no minimo 5 caracteres</span>\n                </md-field> \n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { eventBus } from '../../main';\nimport axios from 'axios';\n\nexport default {\n    watch: {\n        'dados.enderecosCobranca.pais' : function(e){\n            this.indexPais = this.mapPais[e];\n            this.estados = this.paises[this.indexPais].estados;\n        },\n        'dados.enderecosCobranca.estado' : function(e){\n            this.indexEstado = this.mapEstados[e];\n            this.cidades = this.estados[this.indexEstado].cidades;\n        }\n    },\n     data: () => ({\n        paises : [],\n        estados : [],\n        cidades : [],\n        mapPais: [],\n        mapEstados: [],\n        indexPais : null,\n        indexEstado : null\n     }),\n     filters: {\n        firstUpperCase(str){\n            return str.toLowerCase().replace(/(?:^)\\S/g, function(a) { return a.toUpperCase(); });\n        }\n    },\n    created(){\n        var dadosAtuais = this;\n        eventBus.$on('validarDadosEnderecoCobranca', function(e){\n            if(e === true){\n                dadosAtuais.validar()\n            }\n        });\n\n        this.buscarTipoLogradouro();\n        this.buscarTipoResidencia();\n        this.buscarPaises();\n        \n        if(this.dados != null){\n            this.tipoResidencia = this.dados.enderecosCobranca.tipoResidencia;\n            this.tipoLogradouro = this.dados.enderecosCobranca.tipoLogradouro;\n            this.numero = this.dados.enderecosCobranca.numero;\n            this.cep = this.dados.enderecosCobranca.cep;\n            this.observacao = this.dados.enderecosCobranca.observacao;\n            this.nomeComposto = this.dados.enderecosCobranca.nomeComposto;\n            this.favorito = this.dados.enderecosCobranca.favorito;\n            this.cep = this.dados.enderecosCobranca.cep;\n        }\n\n        \n    },\n    props:['dados'],\n    methods:{\n        buscarTipoLogradouro(){\n            var dadosAtuais = this;\n            $.ajax({\n                type: \"POST\",\n                url: \"http://localhost:8082/DarkBook/tipoLogradouro?operacao=CONSULTAR\",\n                async: false\n            }).done(function(msg){\n                dadosAtuais.tiposLogradouro = msg\n             }).fail(function(jqXHR, textStatus, msg){\n                  console.log(msg);\n             })\n        },\n        buscarTipoResidencia(){\n            var dadosAtuais = this;\n            $.ajax({\n                type: \"POST\",\n                url: \"http://localhost:8082/DarkBook/tipoResidencia?operacao=CONSULTAR\",\n                async: false\n            }).done(function(msg){\n                dadosAtuais.tiposResidencia = msg\n             }).fail(function(jqXHR, textStatus, msg){\n                  console.log(msg);\n             })\n        },\n        buscarPaises(){\n            var dadosAtuais = this;\n            axios.post(`http://localhost:8082/DarkBook/paises?operacao=CONSULTAR`, \n            this.cliente, {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n                }\n            }).then(function(e){\n                dadosAtuais.paises = e.data\n                for(let i = 0; i < dadosAtuais.paises.length; i++){\n                    dadosAtuais.mapPais[dadosAtuais.paises[i].pais] = i;\n                    for(let j = 0; j < dadosAtuais.paises[i].estados.length; j++){\n                        dadosAtuais.mapEstados[dadosAtuais.paises[i].estados[j].sigla] = j;\n                    }\n                }\n\n                if(dadosAtuais.dados.enderecosCobranca.pais != \"\"){\n                    dadosAtuais.indexPais = dadosAtuais.mapPais[dadosAtuais.dados.enderecosCobranca.pais];\n                    dadosAtuais.estados = dadosAtuais.paises[dadosAtuais.indexPais].estados;\n                    dadosAtuais.indexEstado = dadosAtuais.mapEstados[dadosAtuais.dados.enderecosCobranca.estado];\n                    dadosAtuais.cidades = dadosAtuais.estados[dadosAtuais.indexEstado].cidades;\n                }\n\n            })\n            .catch(e => {\n                console.log(e)\n            })\n        },\n        validar(){\n            var erro = false;\n\n            var regCep = /\\d{5}-?\\d{3}/;\n\n            if(this.tipoResidencia == \"\"){\n                this.corErroSelect(\"tpEndereco\");\n                erro = true;\n            }\n\n            if(!regCep.test(this.cep)){\n                this.corErroInput(\"cep\");\n                erro = true;\n            } else {\n                this.cep = this.cep.replace(\"-\",\"\")\n            }\n\n            if(this.tipoLogradouro == \"\"){\n                this.corErroSelect(\"tpLogradouro\");\n                erro = true;\n            }\n\n            if(this.dados.enderecosCobranca.logradouro.trim().length < 3){\n                this.corErroInput(\"logradouro\");\n                erro = true;\n            }\n\n            console.log(this.dados.enderecosCobranca.cidade)\n\n            if(this.dados.enderecosCobranca.cidade == \"\"){\n                this.corErroSelect(\"cidade\");\n                erro = true;\n            }\n\n            if(this.dados.enderecosCobranca.estado == \"\"){\n                this.corErroSelect(\"estado\");\n                erro = true;\n            }\n\n            if(this.dados.enderecosCobranca.pais == \"\"){\n                this.corErroSelect(\"pais\");\n                erro = true;\n            }\n\n            if(this.dados.enderecosCobranca.bairro.trim().length < 3){\n                this.corErroInput(\"bairro\");\n                erro = true;\n            }\n\n            if(this.numero <= 0){\n                this.corErroInput(\"numero\");\n                erro = true;\n            }\n\n            if(this.observacao.trim().length > 0\n                && this.observacao.trim().length < 5){\n                this.corErroInput(\"complemento\");\n                erro = true;\n            }\n\n            if(erro == false){\n                this.dados.enderecosCobranca.tipoResidencia = this.tipoResidencia;\n                this.dados.enderecosCobranca.tipoLogradouro = this.tipoLogradouro;\n                this.dados.enderecosCobranca.numero = this.numero;\n                this.dados.enderecosCobranca.cep = this.cep;\n                this.dados.enderecosCobranca.observacao = this.observacao;\n                this.dados.enderecosCobranca.nomeComposto = this.nomeComposto;\n                this.dados.enderecosCobranca.favorito = this.favorito;\n                this.dados.enderecosCobranca.cep = this.cep;\n                eventBus.$emit('page', 3);\n            }\n\n        },\n        corErroInput(elemento){\n            var elementoAtual = document.getElementById(elemento).parentElement;\n            elementoAtual.classList.add(\"md-error\")\n            elementoAtual.classList.add(\"md-invalid\")\n        },\n        corErroSelect(elemento){\n            var elementoAtual = document.getElementById(elemento).parentElement.parentElement;\n            elementoAtual.classList.add(\"md-error\")\n            elementoAtual.classList.add(\"md-invalid\")\n        },\n        buscarCep: function(event) {\n            // Nova variável \"cep\" somente com dígitos.\n            \n            let cep = $(\"#cep\").val().replace(/\\D/g, '');\n            var self = this;\n\n            //Verifica se campo cep possui valor informado.\n            if (cep != \"\") {\n                //Expressão regular para validar o CEP.\n                let validacep = /^[0-9]{8}$/;\n\n                //Valida o formato do CEP.\n                if(validacep.test(cep)) {\n                    //Consulta o webservice viacep.com.br/\n                    $.getJSON(\"https://viacep.com.br/ws/\"+ cep +\"/json/?callback=?\", function(dadosEndereco) {\n                        \n                        \n                        if (!(\"erro\" in dadosEndereco)) {\n                            self.dados.enderecosCobranca.logradouro = dadosEndereco.logradouro;\n                            //Atualiza os campos com os valores da consulta.\n                            self.dados.enderecosCobranca.bairro = dadosEndereco.bairro\n                            self.dados.enderecosCobranca.cidade = dadosEndereco.localidade\n                            self.dados.enderecosCobranca.estado = dadosEndereco.uf\n                            self.dados.enderecosCobranca.pais = \"Brasil\"\n                        } //end if.\n                       \n                    });\n\n\n                } //end if.\n            } //end if.\n\n            console.log(this)\n        }   \n        \n    }\n        \n}\n</script>\n\n\n"],"sourceRoot":"src/views/cliente"}]}