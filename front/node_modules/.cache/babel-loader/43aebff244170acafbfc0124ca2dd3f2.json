{"remainingRequest":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/babel-loader/lib/index.js!/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniel/Documentos/testefrontes3/ES3/front/src/views/cliente/CadDadosCartao.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/src/views/cliente/CadDadosCartao.vue","mtime":1543161307641},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1541803797564},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/babel-loader/lib/index.js","mtime":1541803796996},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1541803797564},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js","mtime":1541803800929}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { eventBus } from '../../main';\nexport default {\n  data: function data() {\n    return {\n      bandeiras: []\n    };\n  },\n  created: function created() {\n    var dadosAtuais = this;\n    eventBus.$on('validarDadosCartao', function (e) {\n      if (e === true) {\n        dadosAtuais.validar();\n      }\n    });\n    this.buscarBandeira();\n  },\n  props: ['dados'],\n  filters: {\n    firstUpperCase: function firstUpperCase(str) {\n      return str.toLowerCase().replace(/(?:^)\\S/g, function (a) {\n        return a.toUpperCase();\n      });\n    }\n  },\n  methods: {\n    buscarBandeira: function buscarBandeira() {\n      var dadosAtuais = this;\n      $.ajax({\n        type: \"POST\",\n        url: \"http://localhost:8082/DarkBook/bandeira?operacao=CONSULTAR\",\n        async: false\n      }).done(function (msg) {\n        dadosAtuais.bandeiras = msg;\n      }).fail(function (jqXHR, textStatus, msg) {\n        console.log(msg);\n      });\n    },\n    validar: function validar() {\n      var erro = false;\n      var regCartao = /\\d{4}\\.\\d{4}\\.\\d{4}\\.\\d{4}/;\n\n      if (!regCartao.test(this.dados.cartoes.numero)) {\n        this.corErroInput(\"numero\");\n        erro = true;\n      }\n\n      if (this.dados.cartoes.codSeguranca.trim().length != 3) {\n        this.corErroInput(\"codigo\");\n        erro = true;\n      }\n\n      if (this.dados.cartoes.bandeira == \"\") {\n        this.corErroSelect(\"bandeira\");\n        erro = true;\n      }\n\n      if (this.dados.cartoes.nomeImpresso.trim().length < 3) {\n        this.corErroInput(\"nomeImpresso\");\n        erro = true;\n      }\n\n      if (erro == false) {\n        eventBus.$emit('page', 4);\n      }\n    },\n    corErroInput: function corErroInput(elemento) {\n      var elementoAtual = document.getElementById(elemento).parentElement;\n      elementoAtual.classList.add(\"md-error\");\n      elementoAtual.classList.add(\"md-invalid\");\n    },\n    corErroSelect: function corErroSelect(elemento) {\n      var elementoAtual = document.getElementById(elemento).parentElement.parentElement;\n      elementoAtual.classList.add(\"md-error\");\n      elementoAtual.classList.add(\"md-invalid\");\n    }\n  }\n};",{"version":3,"sources":["CadDadosCartao.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,SAAA,QAAA,QAAA,YAAA;AAEA,eAAA;AACA,QAAA;AAAA,WAAA;AACA,iBAAA;AADA,KAAA;AAAA,GADA;AAIA,SAJA,qBAIA;AACA,QAAA,cAAA,IAAA;AACA,aAAA,GAAA,CAAA,oBAAA,EAAA,UAAA,CAAA,EAAA;AACA,UAAA,MAAA,IAAA,EAAA;AACA,oBAAA,OAAA;AACA;AACA,KAJA;AAKA,SAAA,cAAA;AACA,GAZA;AAaA,SAAA,CAAA,OAAA,CAbA;AAcA,WAAA;AACA,kBADA,0BACA,GADA,EACA;AACA,aAAA,IAAA,WAAA,GAAA,OAAA,CAAA,UAAA,EAAA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,WAAA,EAAA;AAAA,OAAA,CAAA;AACA;AAHA,GAdA;AAmBA,WAAA;AACA,kBADA,4BACA;AACA,UAAA,cAAA,IAAA;AACA,QAAA,IAAA,CAAA;AACA,cAAA,MADA;AAEA,aAAA,4DAFA;AAGA,eAAA;AAHA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,oBAAA,SAAA,GAAA,GAAA;AACA,OANA,EAMA,IANA,CAMA,UAAA,KAAA,EAAA,UAAA,EAAA,GAAA,EAAA;AACA,gBAAA,GAAA,CAAA,GAAA;AACA,OARA;AASA,KAZA;AAaA,WAbA,qBAaA;AACA,UAAA,OAAA,KAAA;AAEA,UAAA,YAAA,4BAAA;;AAEA,UAAA,CAAA,UAAA,IAAA,CAAA,KAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA;AACA,aAAA,YAAA,CAAA,QAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,KAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,IAAA,GAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,YAAA,CAAA,QAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,KAAA,KAAA,CAAA,OAAA,CAAA,QAAA,IAAA,EAAA,EAAA;AACA,aAAA,aAAA,CAAA,UAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,KAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,IAAA,GAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,YAAA,CAAA,cAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,QAAA,KAAA,EAAA;AACA,iBAAA,KAAA,CAAA,MAAA,EAAA,CAAA;AACA;AAEA,KA1CA;AA2CA,gBA3CA,wBA2CA,QA3CA,EA2CA;AACA,UAAA,gBAAA,SAAA,cAAA,CAAA,QAAA,EAAA,aAAA;AACA,oBAAA,SAAA,CAAA,GAAA,CAAA,UAAA;AACA,oBAAA,SAAA,CAAA,GAAA,CAAA,YAAA;AACA,KA/CA;AAgDA,iBAhDA,yBAgDA,QAhDA,EAgDA;AACA,UAAA,gBAAA,SAAA,cAAA,CAAA,QAAA,EAAA,aAAA,CAAA,aAAA;AACA,oBAAA,SAAA,CAAA,GAAA,CAAA,UAAA;AACA,oBAAA,SAAA,CAAA,GAAA,CAAA,YAAA;AACA;AApDA;AAnBA,CAAA","sourcesContent":["<template>\n    <div>\n        <h3 class=\"text-center m-0 p-0\">Cartão de Credito</h3>\n        <div class=\"md-layout\">\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\" >\n                    <md-icon>call_to_action</md-icon>\n                    <label>Número do cartão...</label>\n                    <md-input v-mask=\"'####.####.####.####'\" id=\"numero\" v-model=\"dados.cartoes.numero\"></md-input>\n                    <span class=\"md-error erros\">O numero do cartão tem que ter 16 digitos</span>\n                </md-field> \n            </div>\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\" >\n                    <md-icon>https</md-icon>\n                    <label>Código de segurança...</label>\n                    <md-input v-mask=\"'###'\" id=\"codigo\" v-model=\"dados.cartoes.codSeguranca\"></md-input>\n                    <span class=\"md-error erros\">O código de segurança tem que ter 3 digitos</span>\n                </md-field> \n            </div>\n\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\" >\n                    <md-icon>payment</md-icon>\n                    <label>Bandeira</label>\n                    <md-select id=\"bandeira\" v-model=\"dados.cartoes.bandeira\" class=\"select-option\">\n                        <md-option v-for=\"bandeira in bandeiras\" class=\"select\"  v-bind:value=\"bandeira\">{{bandeira | firstUpperCase() }}</md-option>\n                    </md-select>\n                    <span class=\"md-error erros\">A bandeira é obrigatória</span>\n                </md-field>\n            </div>\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-field class=\"md-form-group\" >\n                    <md-icon>perm_identity</md-icon>\n                    <label>Nome Impresso...</label>\n                    <md-input id=\"nomeImpresso\" v-model=\"dados.cartoes.nomeImpresso\"></md-input>\n                    <span class=\"md-error erros\">O nome necessida ter no minimo 3 caracteres</span>\n                </md-field> \n            </div>\n\n            <div class=\"md-layout-item md-size-50 md-xsmall-size-100\">\n                <md-icon class=\"icon-cartao\">favorite_border</md-icon>\n                <md-checkbox v-model=\"dados.cartoes.preferencial\">Cartão favorido?</md-checkbox>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\nimport { eventBus } from '../../main';\n\nexport default {\n    data: () => ({\n        bandeiras : []\n    }),\n    created(){\n        var dadosAtuais = this;\n        eventBus.$on('validarDadosCartao', function(e){\n            if(e === true){\n                dadosAtuais.validar()\n            }\n        })\n        this.buscarBandeira()\n    },\n    props:['dados'],\n    filters: {\n        firstUpperCase(str){\n            return str.toLowerCase().replace(/(?:^)\\S/g, function(a) { return a.toUpperCase(); });\n        }\n    },\n    methods:{\n        buscarBandeira(){\n            var dadosAtuais = this;\n            $.ajax({\n                type: \"POST\",\n                url: \"http://localhost:8082/DarkBook/bandeira?operacao=CONSULTAR\",\n                async: false\n            }).done(function(msg){\n                dadosAtuais.bandeiras = msg\n             }).fail(function(jqXHR, textStatus, msg){\n                  console.log(msg);\n             })\n        },\n        validar(){\n            var erro = false;\n\n            var regCartao = /\\d{4}\\.\\d{4}\\.\\d{4}\\.\\d{4}/;\n\n            if(!regCartao.test(this.dados.cartoes.numero)){\n                this.corErroInput(\"numero\")\n                erro = true;\n            }\n\n            if(this.dados.cartoes.codSeguranca.trim().length != 3){\n                this.corErroInput(\"codigo\")\n                erro = true;\n            }\n\n            if(this.dados.cartoes.bandeira == \"\"){\n                this.corErroSelect(\"bandeira\");\n                erro = true;\n            }\n\n            if(this.dados.cartoes.nomeImpresso.trim().length < 3){\n                this.corErroInput(\"nomeImpresso\");\n                erro = true;\n            }\n\n            if(erro == false){\n                eventBus.$emit('page', 4);\n            }\n\n        },\n        corErroInput(elemento){\n            var elementoAtual = document.getElementById(elemento).parentElement;\n            elementoAtual.classList.add(\"md-error\")\n            elementoAtual.classList.add(\"md-invalid\")\n        },\n        corErroSelect(elemento){\n            var elementoAtual = document.getElementById(elemento).parentElement.parentElement;\n            elementoAtual.classList.add(\"md-error\")\n            elementoAtual.classList.add(\"md-invalid\")\n        }\n    }\n}\n</script>\n\n\n<style>\n.icon-cartao{\n    margin-right: 5px !important;  \n    margin-top:-5px!important;\n}\n</style>\n\n\n"],"sourceRoot":"src/views/cliente"}]}