{"remainingRequest":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/daniel/Documentos/testefrontes3/ES3/front/src/views/perfil/EnderecoCobranca.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/src/views/perfil/EnderecoCobranca.vue","mtime":1543919320094},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1543613641058},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/cache-loader/dist/cjs.js","mtime":1543613641058},{"path":"/home/daniel/Documentos/testefrontes3/ES3/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { Modal } from \"@/mk/components\";\nimport CadDadosEndereco from '../cliente/CadDadosEndereco'\nimport { eventBus } from '../../main';\nimport axios from 'axios';\nimport {\n  EditProfileForm,\n  UserCard\n} from '@/mk_admin/pages'\n\nexport default{\n  mounted(){\n    this.novoEndereco();\n    var dadosAtuais = this; \n    this.dadosCliente;\n  },\n  computed: {\n    dadosCliente(){\n      this.cliente = this.$store.state.cliente.dados;\n    }\n  },\n  data: () => ({\n    cliente:{},\n    modalEnderecoCobranca : false,\n    indexEndereco : null,\n    enderecosCobranca : {}\n}),\n  components: {\n    EditProfileForm,\n    UserCard,\n    Modal,\n    CadDadosEndereco\n  },\n  methods: {\n    deletarEndereco(indice){\n      this.cliente.enderecosCobranca[indice].deletar = false;\n      this.AtualizarCliente();\n    },\n    valido(){\n      this.AtualizarCliente();\n    },\n    validoNovo(){\n      this.cliente.enderecosCobranca.push(this.enderecosCobranca);\n      this.AtualizarCliente();\n    },\n    fecharModalEnderecoCobranca() {\n      this.modalEnderecoCobranca = false;\n    },\n    ValidarEnderecoCobranca(){\n      eventBus.$emit('validarDadosEnderecoCobranca', true);\n    },\n    novoEndereco(){\n      this.enderecosCobranca = {\n        tipoResidencia : \"\",\n        tipoLogradouro : \"\",\n        pais : \"\",\n        estado : \"\",\n        cidade : \"\",\n        logradouro : \"\",\n        numero : \"\",\n        bairro : \"\",\n        cep : \"\",\n        observacao : \"\",\n        favorito : false\n      }\n    },\n    resetarEnderecos(){\n      for(let e of this.cliente.enderecosCobranca){\n        e.deletar = true;\n      }\n    },\n    AtualizarCliente(){\n      this.modalCliente = false;\n      var dadosAtuais = this;\n      if(undefined != this.cliente && null != this.cliente){\n        axios.post(`http://localhost:8082/DarkBook/cliente?operacao=ALTERAR`, \n          this.cliente, {\n              headers: {\n                  'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n              }\n          }).then(function(e){\n              swal({\n                title: \"Alterado com sucesso\",\n                icon: \"success\"\n              });\n              dadosAtuais.novoEndereco();\n              dadosAtuais.$router.push({name: \"perfil\"})\n              dadosAtuais.$router.push({name: \"Endereço_Cobrança\"})\n              \n          }).catch(function(e){\n              dadosAtuais.resetarEnderecos();\n              console.log(e)\n              try{\n                swal({\n                    title: e.response.data,\n                    icon: \"error\"\n                });\n              } catch (e) {\n                swal({\n                    title: e,\n                    icon: \"error\"\n                });\n              }\n          })\n      }\n    },\n  }\n}\n",{"version":3,"sources":["EnderecoCobranca.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EnderecoCobranca.vue","sourceRoot":"src/views/perfil","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"viewport\">\n      <md-toolbar class=\"md-primary\">\n        <span class=\"md-title md-toolbar-section-start\">Endereço de Cobrança</span>\n      </md-toolbar>\n    </div>\n    <div class=\"md-layout\">\n      <div v-for=\"(endereco, index) in cliente.enderecosCobranca\" class=\"md-layout-item md-medium-size-100 md-size-33\">\n          <md-card>\n             <md-card-actions>\n              <md-button class=\"md-primary md-just-icon md-round\"><md-icon v-if=\"endereco.favorito == true\">star_border</md-icon><md-icon v-else>star</md-icon></md-button>\n            </md-card-actions>\n            <md-card-content>\n              {{ endereco.tipoLogradouro }} {{ endereco.logradouro }}, {{ endereco.numero }}, {{ endereco.bairro }}, {{ endereco.tipoResidencia }}<br>\n              {{ endereco.cep }}<br>\n              {{ endereco.cidade }}, {{ endereco.estado }}, {{ endereco.pais }}<br>\n              {{ endereco.complemento }}\n            </md-card-content>\n\n            <md-card-actions>\n              <md-button class=\"md-danger\" @click=\"deletarEndereco(index)\">Deletar</md-button>\n              <md-button class=\"md-primary\" @click=\"modalEnderecoCobranca = true; indexEndereco = index\">Editar</md-button>\n            </md-card-actions>\n          </md-card>\n      </div> \n\n      <div class=\"md-layout-item md-medium-size-100 md-size-33\">\n        <md-toolbar class=\"md-white my-30\">\n          <md-button class=\"md-white\">\n            <md-icon>add_circle</md-icon>\n            <span class=\"md-title md-toolbar-section-start\" @click=\"modalEnderecoCobranca = true; indexEndereco = null\">Novo Endereço</span>\n          </md-button>\n        </md-toolbar> \n      </div>\n    </div>\n    <modal v-if=\"modalEnderecoCobranca\" @close=\"fecharModalEnderecoCobranca\">\n      <template slot=\"body\">\n        <cad-dados-endereco @dados-valido-cliente=\"valido\" v-if=\"indexEndereco != null\" v-bind:dados=\"{enderecosCobranca: this.cliente.enderecosCobranca[indexEndereco]}\"></cad-dados-endereco>\n        <cad-dados-endereco @dados-valido-cliente=\"validoNovo\" v-else v-bind:dados=\"{enderecosCobranca: this.enderecosCobranca}\"></cad-dados-endereco>\n      </template>\n      <template slot=\"footer\">\n        <md-button class=\"md-danger md-sm\" @click=\"fecharModalEnderecoCobranca\">Cancelar</md-button>\n        <md-button class=\"md-primary md-simple\" @click=\"ValidarEnderecoCobranca\">Salvar</md-button>\n      </template>\n  </modal>\n  </div>\n</template>\n\n<style>\n.my-30{\n      margin: 30px 0;\n}\n.md-menu-content.md-select-menu {\n    z-index: 9998 !important;\n}\n</style>\n\n<script>\nimport { Modal } from \"@/mk/components\";\nimport CadDadosEndereco from '../cliente/CadDadosEndereco'\nimport { eventBus } from '../../main';\nimport axios from 'axios';\nimport {\n  EditProfileForm,\n  UserCard\n} from '@/mk_admin/pages'\n\nexport default{\n  mounted(){\n    this.novoEndereco();\n    var dadosAtuais = this; \n    this.dadosCliente;\n  },\n  computed: {\n    dadosCliente(){\n      this.cliente = this.$store.state.cliente.dados;\n    }\n  },\n  data: () => ({\n    cliente:{},\n    modalEnderecoCobranca : false,\n    indexEndereco : null,\n    enderecosCobranca : {}\n}),\n  components: {\n    EditProfileForm,\n    UserCard,\n    Modal,\n    CadDadosEndereco\n  },\n  methods: {\n    deletarEndereco(indice){\n      this.cliente.enderecosCobranca[indice].deletar = false;\n      this.AtualizarCliente();\n    },\n    valido(){\n      this.AtualizarCliente();\n    },\n    validoNovo(){\n      this.cliente.enderecosCobranca.push(this.enderecosCobranca);\n      this.AtualizarCliente();\n    },\n    fecharModalEnderecoCobranca() {\n      this.modalEnderecoCobranca = false;\n    },\n    ValidarEnderecoCobranca(){\n      eventBus.$emit('validarDadosEnderecoCobranca', true);\n    },\n    novoEndereco(){\n      this.enderecosCobranca = {\n        tipoResidencia : \"\",\n        tipoLogradouro : \"\",\n        pais : \"\",\n        estado : \"\",\n        cidade : \"\",\n        logradouro : \"\",\n        numero : \"\",\n        bairro : \"\",\n        cep : \"\",\n        observacao : \"\",\n        favorito : false\n      }\n    },\n    resetarEnderecos(){\n      for(let e of this.cliente.enderecosCobranca){\n        e.deletar = true;\n      }\n    },\n    AtualizarCliente(){\n      this.modalCliente = false;\n      var dadosAtuais = this;\n      if(undefined != this.cliente && null != this.cliente){\n        axios.post(`http://localhost:8082/DarkBook/cliente?operacao=ALTERAR`, \n          this.cliente, {\n              headers: {\n                  'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n              }\n          }).then(function(e){\n              swal({\n                title: \"Alterado com sucesso\",\n                icon: \"success\"\n              });\n              dadosAtuais.novoEndereco();\n              dadosAtuais.$router.push({name: \"perfil\"})\n              dadosAtuais.$router.push({name: \"Endereço_Cobrança\"})\n              \n          }).catch(function(e){\n              dadosAtuais.resetarEnderecos();\n              console.log(e)\n              try{\n                swal({\n                    title: e.response.data,\n                    icon: \"error\"\n                });\n              } catch (e) {\n                swal({\n                    title: e,\n                    icon: \"error\"\n                });\n              }\n          })\n      }\n    },\n  }\n}\n</script>\n"]}]}